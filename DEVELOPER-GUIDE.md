# Developer Guide

## Table of Contents
- [Basics](#basics)  
  - [Technology](#technology)  
  - [File Structure](#file-structure)  
- [Getting Started](#getting-started)  
  - [Installation](#installation)  
  - [Gulp](#gulp)  
- [Workflow](#workflow)  

## Basics

You should read this section before moving onto “Getting Started” or “Workflow”  

### Technology  

#### Main Components
- [Three.js](http://threejs.org/) - 3D WebGL Library  
  - Game Graphics and Logic
- [jQuery](http://jquery.com/) - DOM Manipulation
- [Semantic UI](http://semantic-ui.com/) - UI Library  
  - Landing page
- [Firebase](https://www.firebase.com/) - Hosting and Database

#### Development ONLY
- [Travis CI](https://travis-ci.org/) - Continuous Integration and Deployment
- [Express](http://expressjs.com/) & [Node JS](http://nodejs.org/) Development Server
- [Gulp](http://gulpjs.com/) - Build System
- [Karma](http://karma-runner.github.io/) - Test Runner
- [Mocha](http://mochajs.org/) - Test Framework
- [Sinon / Chai](https://github.com/domenic/sinon-chai) - Testing Library
- [JSHINT](http://www.jshint.com/) - Code Linting
- [JSDOC](http://usejsdoc.org/) - Documentation Generation
- [Bower](http://bower.io/) - Frontend Dependency Management
- [NPM](https://www.npmjs.org/) - Backend / Development Dependency Management

### File Structure

Note: All things that say *DEV ONLY* are generated throughout the development process
and will not appear in the repository  

```
app/ (Game Logic)
  ├── js/
    ├── controls/ (Game Controls)
    ├── models/ (Game Models)

client/ (Frontend HTML / CSS)
  ├── bower_components (Generated by bower install *DEV ONLY*)
  ├── pages/ (Extra web pages)
  ├── public/ (Public Files)
    ├── images/
  ├── styles/ (CSS Styles)
  ├── game.html (Game Page)
  ├── index.html (Landing Page)

coverage/ (Test Coverage Report - Generated by Karma *DEV ONLY*)

dist/ (Build Files - Generated by Gulp *DEV ONLY*)

docs/ (Documentation on application files - Generated by Gulp *DEV ONLY*)

node_modules/ (NPM Modules - Generated by npm install *DEV ONLY*)

server/ (Server files)
  ├── index.js (Express Server)

test/ (Test Files)
  ├── e2e/ (End to End Testing Files)
  ├── unit/ (Unit Tests)
```

## Getting Started

### Installation
First, install NodeJS from their [website](https://nodejs.org/) or with [NVM](https://github.com/creationix/nvm)  
Then, go to the root directory of this project and run the following:
```sh
# Install Bower
npm install -g bower
# Install Gulp
npm install -g gulp
# Install Node / Gulp Dependencies
npm install
# Install Frontend Dependencies
bower install
```

### Gulp
Gulp is a build tool that we are using to run commonly used commands and it helps speed up the development process.

#### Gulp Tasks
The following are the exact name of the task. You can run the tasks with ```gulp task-name```  
  - [lint](#lint)
  - [start](#start)
  - [serve](#serve)
  - [test](#test)
  - [minjs](#minjs)
  - [mincss](#mincss)
  - [bowerbuildjs](#bowerbuildjs)
  - [bowerbuildcss](#bowerbuildcss)
  - [copystatic](#copystatic)
  - [cleanup](#cleanup)
  - [reloadpage](#reloadpage)
  - [build](#build)
  - [deploy](#deploy)
  - [docs](#docs)
  - [default](#default)

  ##### lint
    The lint command runs JS HINT on all of the application code to see if they are compliant with the JS Hint specifications. This is done to make sure that your code is clean and to their standards.
  ##### start
    This will run the [serve](#serve) command and then start up a browser-sync session so that when you make any changes, the page will reload. You should use the [default](#default) command instead of this though.
  ##### serve
    This will start up the Express server to serve up your files. You should use the [default](#default) command instead of this though.
  ##### test
    This will run Karma which will then run the Mocha tests located in the ```tests/``` directory and it uses the ```karma.conf.js``` file for its configuration.
  ##### minjs
    This will minify all of the application javascript code located in the ```app/``` directory and concatenate them into a single file which is then located at ```dist/js/main.min.js```.
  ##### mincss
    This will minify all of the CSS files located in the ```client/styles/``` directory and concatenate them into a single file which is then located at ```dist/css/main.min.css```.
  ##### bowerbuildjs
    This will minify specified javascript files from bower components and concatenate them into a single file which is then located at ```dist/js/vendor.min.js```.
  ##### bowerbuildcss
    This will minify specified CSS files from bower componenets and concatenate them into a isngle file which is then located at ```dist/css/vendor.min.css```
  ##### copystatic
    This command is used to copy over all of the static files (HTML, Images, Fonts, etc.) from the ```client/``` directory to the ```dist/``` directory. 
  ##### cleanup
    This will delete the ```dist/``` directory to get you a clean slate.
  ##### reloadpage
    This will reload the page when you have your browser sync session running after the [start](#start) command is executed.
  ##### build
    This will create the ```dist/``` directory which are the build-ready files. So, it will run [copystatic](#copystatic), [bowerbuildjs](#bowerbuildjs), [bowerbuildcss](#bowerbuildcss), [minjs](#minjs), & [mincss](#mincss).
  ##### deploy
    This command is used for Travis as it will run [lint](#lint) -> [build](#build) -> [test](#test)
  ##### docs
    This will use JSDOC and compile comments created in the application code (the ```app/``` folder) and that will generate HTML pages in the ```docs/``` folder that you can view and get an understanding of what the application code is doing.
  ##### default
    This is the default task that is run when you just run ```gulp``` and it will run [lint](#lint) -> [build](#build) -> [test](#test) -> [start](#start). 
